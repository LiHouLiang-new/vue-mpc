(function(e){function t(t){for(var a,o,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)o=r[u],i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={customKnowledge:0},s=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([3,"chunk-vendors","chunk-common"]),n()})({3:function(e,t,n){e.exports=n("fd58")},"35b0":function(e,t,n){"use strict";var a=n("bdee"),i=n.n(a);i.a},bdee:function(e,t,n){},fd58:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper"},[n("aep-header",{attrs:{title:"环保知识",count:e.total}}),n("div",{staticClass:"contents"},[n("div",{staticClass:"con-box"},[n("label",{staticClass:"con-label"},[e._v("时间范围")]),n("date-picker",{attrs:{lang:"zh",format:"YYYY-MM-DD"},model:{value:e.sDate,callback:function(t){e.sDate=t},expression:"sDate"}}),n("icon",{attrs:{name:"angle-right",scale:"0.8"}}),n("date-picker",{attrs:{lang:"zh",format:"YYYY-MM-DD"},model:{value:e.eDate,callback:function(t){e.eDate=t},expression:"eDate"}}),n("button",{staticClass:"btns",on:{click:function(t){return e.renderList(1)}}},[e._v("搜索")])],1),n("div",{staticClass:"table-box"},[n("table",e._l(e.knowledge,function(t,a){return n("tr",{key:a,style:{"background-color":e.index==a?"#dfe7f1":""},on:{click:function(n){return e.clickItem(t,a)}}},[n("p",{staticClass:"list-title"},[e._v(e._s(t.title))]),n("p",{staticClass:"list-time"},[e._v(e._s(t.date))])])}),0)]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"plat-units"},[e._v("确认删除此项？")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}]},[n("button",{staticClass:"confirm",on:{click:e.deleteKnowledge}},[e._v("删除")]),n("button",{staticClass:"cancel",on:{click:e.cancel}},[e._v("取消")])])]),n("aep-bottom-tool",{ref:"bottomTool",attrs:{"list-page-total":e.listPageTotal},on:{"render-list":e.renderList,"add-item":e.addItem,"remove-item":e.deleteItem}}),n("aep-footer",{attrs:{buttons:e.buttons}})],1)},s=[],o=(n("1b6f"),n("80c0"),n("dcac"),n("d385"),n("fccb"),n("dadc"),n("d076"),n("a402"),n("cceb"),n("4364"),n("ea76")),r=n.n(o),l=n("714f"),c=n("c1df"),d=n.n(c),u=n("9127"),p=n("c956"),f=n("8954"),h=n("1dac"),m={components:{aepHeader:p["a"],aepFooter:f["a"],aepBottomTool:h["a"],icon:u["a"],datePicker:r.a},data:function(){return{title:"",buttons:[{id:1,label:"close",text:"关闭"}],index:-1,listPageNum:1,listPagePer:10,isShow:!1,sDate:d()().subtract(1,"days").format("YYYY-MM-DDT00:00:00+08:00"),eDate:d()().format("YYYY-MM-DDT00:00:00+08:00"),knowledge:[],total:0,pageType:"customize",pageInst:"knowledge"}},created:function(){aepRegisterUIElement(this.pageType,this.pageInst),this.renderList(1)},computed:{listPageTotal:function(){var e=Math.ceil(this.total/this.listPagePer);return isNaN(e)?1:e}},methods:{renderList:function(e){var t=this;"number"===typeof e&&!isNaN(e)&&parseInt(e)>0&&(t.listPageNum=parseInt(e));var n={pnum:t.listPageNum-1,psize:t.listPagePer};null!==t.sDate&&(n.stime=d()(t.sDate).format()),null!==t.eDate&&(n.etime=d()(t.eDate).add(1,"days").format()),l["a"].get("/knowledge",{params:n}).then(function(e){200===e.status&&e.data instanceof Object&&(t.knowledge=e.data.Data.map(function(e){return{id:e.ID,title:e.Title,date:d()(e.Date).format("YYYY-MM-DD HH:mm:ss")}}),t.total=e.data.Total)})},clickItem:function(e,t){this.index=t;var n={status:"upd",id:e.id,preFunc:"renderList",preParams:this.listPageNum,prePageType:this.pageType,prePageInst:this.pageInst};aepAddContentPage("/views/dongying/upload.html",280,n)},deleteKnowledge:function(){var e=this;void 0!==this.knowledge[this.index]&&""!==this.knowledge[this.index].id&&l["a"].delete("/knowledge/"+this.knowledge[self.index].id).then(function(t){200===t.status&&(e.knowledge.splice(e.index,1),e.isShow=!1,e.index=-1,e.renderList(e.listPageNum))})},addItem:function(){var e={status:"add",id:"",preFunc:"renderList",preParams:this.listPageNum,prePageType:this.pageType,prePageInst:this.pageInst};aepAddContentPage("/views/dongying/upload.html",280,e)},deleteItem:function(){this.isShow=!0},cancel:function(){this.isShow=!1}}},g=m,v=(n("35b0"),n("2877")),b=Object(v["a"])(g,i,s,!1,null,null,null),w=b.exports,P=new a["a"]({el:"#app",render:function(e){return e(w)}});window.renderList=function(){w.methods.renderList.call(P.$children[0],arguments)}}});
//# sourceMappingURL=customKnowledge.105ccb76.js.map